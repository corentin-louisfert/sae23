<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="./favicon/favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="./css/style.css" />
    <!-- FONT Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome Kit -->
    <script
      src="https://kit.fontawesome.com/0acb75a9e8.js"
      crossorigin="anonymous"
    ></script>
    <script defer src="./js/weatherCard.js"></script>
    <script defer src="./js/app.js"></script>
    <title>Instant Weather V2</title>
  </head>
  <body>
    <!-- Dark Mode Toggle -->
    <div class="dark-mode-toggle">
      <button id="darkModeToggle" aria-label="Basculer le mode sombre">
        <i class="fas fa-moon"></i>
      </button>
    </div>

    <header>
      <h1>INSTANT WEATHER V2</h1>
      <p>Votre météo en un clic</p>
      <p>Choisissez votre commune et consultez les prévisions</p>
    </header>
    
    <main>
      <section id="cityForm">
        <form id="cityForm_form" action="dummy">
          <div class="form-group">
            <label for="code-postal">Saisissez un code postal</label>
            <input
              type="text"
              id="code-postal"
              placeholder="Entrez un code postal..."
              autocomplete="postal-code"
              inputmode="numeric"
              pattern="[0-9]{5}"
              maxlength="5"
            />
          </div>

          <div class="form-group">
            <label
              for="communeSelect"
              class="sr-only"
              aria-label="Choix de la commune"
              >Sélectionnez la commune</label
            >
            <select id="communeSelect" aria-live="polite" aria-describedby="communeHelp"></select>
            <small id="communeHelp" class="sr-only">Choisissez une commune dans la liste</small>
          </div>

          <div class="form-group">
            <label for="forecastDays">Nombre de jours de prévisions</label>
            <div class="days-selector">
              <input type="range" id="forecastDays" min="1" max="7" value="1" />
              <div class="days-display">
                <span id="daysValue">1</span> jour<span id="daysPlurial" style="display: none;">s</span>
              </div>
            </div>
          </div>

          <div class="form-group">
            <fieldset>
              <legend>Informations supplémentaires à afficher</legend>
              <div class="checkbox-grid">
                <label class="checkbox-item">
                  <input type="checkbox" id="showLatitude" value="latitude" />
                  <span class="checkmark"></span>
                  Latitude de la commune
                </label>
                <label class="checkbox-item">
                  <input type="checkbox" id="showLongitude" value="longitude" />
                  <span class="checkmark"></span>
                  Longitude de la commune
                </label>
                <label class="checkbox-item">
                  <input type="checkbox" id="showRain" value="rain" />
                  <span class="checkmark"></span>
                  Cumul de pluie (mm)
                </label>
                <label class="checkbox-item">
                  <input type="checkbox" id="showWind" value="wind" />
                  <span class="checkmark"></span>
                  Vent moyen (km/h)
                </label>
                <label class="checkbox-item">
                  <input type="checkbox" id="showWindDirection" value="windDirection" />
                  <span class="checkmark"></span>
                  Direction du vent (°)
                </label>
              </div>
            </fieldset>
          </div>
        </form>
        
        <button id="validationButton">
          <i class="fas fa-search"></i>
          Rechercher la météo
        </button>
      </section>
      
      <section id="weatherInformation">
        <!-- Ajouter les informations météo ici -->
      </section>
    </main>

    <!-- Geolocation Modal -->
    <div id="geoModal" class="modal" style="display: none;">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Géolocalisation</h3>
        <p>Voulez-vous utiliser votre position actuelle pour obtenir la météo ?</p>
        <button id="allowGeo" class="btn-primary">Autoriser</button>
        <button id="denyGeo" class="btn-secondary">Refuser</button>
      </div>
    </div>
  </body>
</html>